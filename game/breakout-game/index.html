<!doctype html>
<html lang="tr">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Breakout • Tailwind + JS (Responsive)</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    body { -webkit-tap-highlight-color: transparent; }
    canvas { display:block; border-radius:12px; box-shadow: 0 10px 30px rgba(2,6,23,0.6); background: linear-gradient(180deg,#021627 0%, #041428 100%); }
    .touch-btn { width:64px; height:64px; border-radius:12px; }
    .glass { background: linear-gradient(180deg, rgba(255,255,255,0.03), rgba(255,255,255,0.02)); border: 1px solid rgba(255,255,255,0.04); }
    .no-select { user-select: none; -webkit-user-select: none; -ms-user-select: none; }
  </style>
</head>
<body class="min-h-screen flex items-center justify-center p-4 bg-gradient-to-b from-slate-900 to-slate-800 text-slate-100">

  <div class="w-full max-w-5xl game-wrap">
    <header class="flex flex-col md:flex-row items-center justify-between gap-4 mb-4">
      <div>
        <h1 class="text-2xl md:text-3xl font-bold">Breakout • Arkanoid</h1>
        <p class="text-sm text-slate-400">Tailwind + Canvas + JS • Responsive & Mobile</p>
      </div>

      <div class="flex items-center gap-3">
        <div class="glass px-3 py-2 rounded-md text-sm">
          Puan: <span id="score" class="font-mono">0</span>
        </div>
        <div class="glass px-3 py-2 rounded-md text-sm">
          Can: <span id="lives" class="font-mono">3</span>
        </div>
        <div class="glass px-3 py-2 rounded-md text-sm">
          Seviye: <span id="level" class="font-mono">1</span>
        </div>
        <div class="glass px-3 py-2 rounded-md text-sm hidden md:block">
          En Yüksek: <span id="highscore" class="font-mono">0</span>
        </div>

        <div class="flex items-center gap-2">
          <button id="startBtn" class="px-4 py-2 bg-emerald-500 hover:bg-emerald-600 text-black rounded-md font-medium no-select">Başlat</button>
          <button id="pauseBtn" class="px-4 py-2 bg-yellow-400 hover:bg-yellow-500 text-black rounded-md font-medium no-select">Duraklat</button>
          <button id="resetBtn" class="px-4 py-2 bg-red-600 hover:bg-red-700 text-white rounded-md font-medium no-select">Yeniden</button>
          <button id="muteBtn" class="px-3 py-2 bg-white/5 hover:bg-white/10 rounded-md text-sm no-select">Ses: Açık</button>
        </div>
      </div>
    </header>

    <main class="grid md:grid-cols-4 gap-6">
      <!-- Canvas alanı -->
      <section class="md:col-span-3 flex items-center justify-center">
        <div id="canvasContainer" class="w-full">
          <canvas id="gameCanvas" class="w-full"></canvas>
        </div>
      </section>

      <!-- Sağ panel -->
      <aside class="flex flex-col gap-4">
        <div class="glass p-4 rounded-md">
          <h3 class="font-semibold mb-2">İpuçları</h3>
          <ul class="text-sm text-slate-200 list-disc list-inside space-y-1">
            <li>Fareyle paddle'ı hareket ettir.</li>
            <li>Mobilde paddle sürükle veya alt butonları kullan.</li>
            <li>Boşluk ile topu fırlat, Space tekrar oyunu başlatmaz.</li>
          </ul>
        </div>

        <div class="glass p-4 rounded-md hidden md:block">
          <h4 class="font-semibold mb-2">İstatistik</h4>
          <div class="text-sm text-slate-200">Bricks: <span id="brickCount">0</span></div>
        </div>

        <!-- Mobil kontrol butonları -->
        <div class="md:hidden glass p-3 rounded-md flex flex-col items-center gap-3">
          <div class="flex gap-3">
            <button id="btnLeft" class="touch-btn bg-slate-700 hover:bg-slate-600 text-xl">◀</button>
            <button id="btnRight" class="touch-btn bg-slate-700 hover:bg-slate-600 text-xl">▶</button>
          </div>
          <div class="w-full grid grid-cols-2 gap-2">
            <button id="btnLaunch" class="px-4 py-2 bg-emerald-500 hover:bg-emerald-600 text-black rounded-md">Fırlat</button>
            <button id="btnPause" class="px-4 py-2 bg-yellow-400 hover:bg-yellow-500 text-black rounded-md">Duraklat</button>
          </div>
        </div>
      </aside>
    </main>

    <footer class="mt-6 text-center text-xs text-slate-400">Responsive Breakout • İstersen güçlendiriciler, ekstra top ve seviye efektleri ekleyebilirim.</footer>
  </div>

  <script>
  /*
    Responsive Breakout / Arkanoid
    - Canvas resize to container
    - Paddle: mouse / touch / left-right keys
    - Mobile buttons: left / right / launch / pause
    - Score, lives, level, highscore (localStorage)
    - Simple sounds via WebAudio (toggleable)
  */

  // DOM
  const canvas = document.getElementById('gameCanvas');
  const container = document.getElementById('canvasContainer');
  const scoreEl = document.getElementById('score');
  const livesEl = document.getElementById('lives');
  const levelEl = document.getElementById('level');
  const highscoreEl = document.getElementById('highscore');
  const brickCountEl = document.getElementById('brickCount');

  const startBtn = document.getElementById('startBtn');
  const pauseBtn = document.getElementById('pauseBtn');
  const resetBtn = document.getElementById('resetBtn');
  const muteBtn = document.getElementById('muteBtn');

  const btnLeft = document.getElementById('btnLeft');
  const btnRight = document.getElementById('btnRight');
  const btnLaunch = document.getElementById('btnLaunch');
  const btnPause = document.getElementById('btnPause');

  const ctx = canvas.getContext('2d');

  // Game state
  let WIDTH, HEIGHT, scale;
  let paddle = {}, ball = {}, bricks = [], score = 0, lives = 3, level = 1;
  let running = false, paused = false, muted = false;
  let highscore = parseInt(localStorage.getItem('breakoutHighscore') || '0', 10);

  // Sizes (base)
  const BASE = { width: 900, height: 540 };
  const BASE_PADDLE_W = 140, BASE_PADDLE_H = 16, BASE_BALL_R = 10, BASE_TOP = 70;
  const BRICK_ROWS = 5, BRICK_PADDING = 8, BRICK_HEIGHT = 24, BRICK_COLS_BASE = 10;

  // Audio
  let audioCtx = null;
  function tryInitAudio(){ if (!audioCtx && !muted){ audioCtx = new (window.AudioContext||window.webkitAudioContext)(); } }
  function playBeep(freq=440, time=0.05, gain=0.07){
    if (muted) return;
    tryInitAudio();
    if (!audioCtx) return;
    const o = audioCtx.createOscillator();
    const g = audioCtx.createGain();
    o.type = 'sine';
    o.frequency.value = freq;
    g.gain.value = gain;
    o.connect(g); g.connect(audioCtx.destination);
    o.start();
    o.stop(audioCtx.currentTime + time);
  }

  // Responsive sizing
  function resizeCanvas(){
    const maxW = container.clientWidth;
    const maxH = window.innerHeight * 0.72;
    let desiredW = Math.min(maxW, BASE.width);
    let desiredH = Math.floor(desiredW * (BASE.height / BASE.width));
    if (desiredH > maxH){
      desiredH = maxH;
      desiredW = Math.floor(desiredH * (BASE.width / BASE.height));
    }
    WIDTH = Math.floor(desiredW);
    HEIGHT = Math.floor(desiredH);
    canvas.width = WIDTH;
    canvas.height = HEIGHT;
    scale = WIDTH / BASE.width;
    adaptSizes();
    draw();
  }
  window.addEventListener('resize', resizeCanvas);

  function adaptSizes(){
    paddle.w = Math.max(80, Math.floor(BASE_PADDLE_W * scale));
    pad
